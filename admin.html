<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin - Survivor Pool</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <h1>Admin Panel</h1>
    <nav>
      <a href="dashboard.html">Dashboard</a>
      <a href="picks.html">Picks</a>
      <a href="standings.html">Standings</a>
      <a href="index.html">Logout</a>
    </nav>
  </header>

  <main>
    <h2>Update Weekly Matchups</h2>

    <table id="adminGamesTable">
      <thead>
        <tr>
          <th>Home Team</th>
          <th>Away Team</th>
          <th>Spread</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="gamesTableBody"></tbody>
    </table>

    <button id="addGameBtn">+ Add Matchup</button>
    <button id="saveGamesBtn">ðŸ’¾ Save All Matchups</button>
  </main>

  <footer>
    <p>&copy; 2025 NFL Survivor Pool</p>
  </footer>

  <script src="js/admin.js"></script>
  <script src="js/global.js"></script>
<script>
  const adminTable = document.getElementById("adminGamesTable").querySelector("tbody");
  let matchups = JSON.parse(localStorage.getItem("matchups")) || [];

  // Display current matchups
  function renderMatchups() {
    adminTable.innerHTML = "";
    matchups.forEach((m, i) => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${m.home}</td>
        <td>${m.away}</td>
        <td>${m.winner || "TBD"}</td>
        <td><button onclick="removeMatchup(${i})">Remove</button></td>
      `;
      adminTable.appendChild(row);
    });
  }

  // Add matchup
  function addMatchup() {
    const home = prompt("Enter home team:");
    const away = prompt("Enter away team:");
    if (home && away) {
      matchups.push({ home, away, winner: "" });
      localStorage.setItem("matchups", JSON.stringify(matchups));
      renderMatchups();
    }
  }

  // Remove matchup
  function removeMatchup(i) {
    matchups.splice(i, 1);
    localStorage.setItem("matchups", JSON.stringify(matchups));
    renderMatchups();
  }

  // Add a button dynamically to add matchups
  document.body.insertAdjacentHTML("beforeend", `<button onclick="addMatchup()">Add Matchup</button>`);

  renderMatchups();
</script>

</body>
</html>
