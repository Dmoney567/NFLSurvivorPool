<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Make Your Pick - Survivor Pool</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <h1>NFL Survivor Pool</h1>
    <nav>
      <a href="dashboard.html">Dashboard</a>
      <a href="picks.html" class="active">Picks</a>
      <a href="standings.html">Standings</a>
      <a href="admin.html">Admin</a>
      <a href="index.html">Logout</a>
    </nav>
  </header>

  <main>
    <h2>Make Your Pick</h2>
    <p>Select one team below. You can only pick one per week.</p>

    <div id="matchupsContainer" class="matchups-container"></div>
    <p id="chosenDisplay" class="chosen-display"></p>
    <button id="submitPickBtn" disabled>Submit Pick</button>
  </main>

  <footer>
    <p>&copy; 2025 NFL Survivor Pool</p>
  </footer>

  <script>
    const logoMap = {
      "49ers": "https://static.www.nfl.com/t_person_square_mobile/f_auto/49ers.png",
      "Bears": "https://static.www.nfl.com/t_person_square_mobile/f_auto/bears.png",
      "Bengals": "https://static.www.nfl.com/t_person_square_mobile/f_auto/bengals.png",
      "Bills": "https://static.www.nfl.com/t_person_square_mobile/f_auto/bills.png",
      "Broncos": "https://static.www.nfl.com/t_person_square_mobile/f_auto/broncos.png",
      "Browns": "https://static.www.nfl.com/t_person_square_mobile/f_auto/browns.png",
      "Buccaneers": "https://static.www.nfl.com/t_person_square_mobile/f_auto/buccaneers.png",
      "Cardinals": "https://static.www.nfl.com/t_person_square_mobile/f_auto/cardinals.png",
      "Chargers": "https://static.www.nfl.com/t_person_square_mobile/f_auto/chargers.png",
      "Chiefs": "https://static.www.nfl.com/t_person_square_mobile/f_auto/chiefs.png",
      "Colts": "https://static.www.nfl.com/t_person_square_mobile/f_auto/colts.png",
      "Commanders": "https://static.www.nfl.com/t_person_square_mobile/f_auto/commanders.png",
      "Cowboys": "https://static.www.nfl.com/t_person_square_mobile/f_auto/cowboys.png",
      "Dolphins": "https://static.www.nfl.com/t_person_square_mobile/f_auto/dolphins.png",
      "Eagles": "https://static.www.nfl.com/t_person_square_mobile/f_auto/eagles.png",
      "Falcons": "https://static.www.nfl.com/t_person_square_mobile/f_auto/falcons.png",
      "Giants": "https://static.www.nfl.com/t_person_square_mobile/f_auto/giants.png",
      "Jaguars": "https://static.www.nfl.com/t_person_square_mobile/f_auto/jaguars.png",
      "Jets": "https://static.www.nfl.com/t_person_square_mobile/f_auto/jets.png",
      "Lions": "https://static.www.nfl.com/t_person_square_mobile/f_auto/lions.png",
      "Packers": "https://static.www.nfl.com/t_person_square_mobile/f_auto/packers.png",
      "Panthers": "https://static.www.nfl.com/t_person_square_mobile/f_auto/panthers.png",
      "Patriots": "https://static.www.nfl.com/t_person_square_mobile/f_auto/patriots.png",
      "Raiders": "https://static.www.nfl.com/t_person_square_mobile/f_auto/raiders.png",
      "Rams": "https://static.www.nfl.com/t_person_square_mobile/f_auto/rams.png",
      "Ravens": "https://static.www.nfl.com/t_person_square_mobile/f_auto/ravens.png",
      "Saints": "https://static.www.nfl.com/t_person_square_mobile/f_auto/saints.png",
      "Seahawks": "https://static.www.nfl.com/t_person_square_mobile/f_auto/seahawks.png",
      "Steelers": "https://static.www.nfl.com/t_person_square_mobile/f_auto/steelers.png",
      "Texans": "https://static.www.nfl.com/t_person_square_mobile/f_auto/texans.png",
      "Titans": "https://static.www.nfl.com/t_person_square_mobile/f_auto/titans.png",
      "Vikings": "https://static.www.nfl.com/t_person_square_mobile/f_auto/vikings.png"
    };

    const matchups = JSON.parse(localStorage.getItem("matchups")) || [];
    const container = document.getElementById("matchupsContainer");
    const submitBtn = document.getElementById("submitPickBtn");
    const chosenDisplay = document.getElementById("chosenDisplay");

    let chosenTeam = localStorage.getItem("chosenTeam") || "";

    function renderMatchups() {
      container.innerHTML = "";

      if (matchups.length === 0) {
        container.innerHTML = "<p>No matchups available yet. Check back later!</p>";
        return;
      }

      matchups.forEach((m) => {
        const matchupDiv = document.createElement("div");
        matchupDiv.classList.add("matchup");
        matchupDiv.innerHTML = `
          <div class="teams">
            <div class="team">
              <img src="${logoMap[m.home] || ''}" alt="${m.home}" class="team-logo" />
              <button class="team-btn" onclick="chooseTeam('${m.home}')">${m.home}</button>
            </div>
            <div class="spread">Spread: ${m.spread || "N/A"}</div>
            <div class="team">
              <button class="team-btn" onclick="chooseTeam('${m.away}')">${m.away}</button>
              <img src="${logoMap[m.away] || ''}" alt="${m.away}" class="team-logo" />
            </div>
          </div>
        `;
        container.appendChild(matchupDiv);
      });

      if (chosenTeam) {
        chosenDisplay.innerText = `You picked: ${chosenTeam}`;
        submitBtn.disabled = false;
      }
    }

    function chooseTeam(team) {
      chosenTeam = team;
      localStorage.setItem("chosenTeam", team);
      chosenDisplay.innerText = `You picked: ${team}`;
      submitBtn.disabled = false;
    }

    submitBtn.addEventListener("click", () => {
      alert(`You submitted your pick: ${chosenTeam}`);
    });

    renderMatchups();
  </script>
</body>
</html>
